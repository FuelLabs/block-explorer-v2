"use strict";(self.webpackChunkexplorer=self.webpackChunkexplorer||[]).push([[569],{7569:function(n,e,t){t.r(e),t.d(e,{default:function(){return he}});var o,i,r,a,s,d,c,l,u,p,x,f,h,m,g,v,Z,w,P,b,y,j,k,S,C,T,D,I,_,F,M,$,z,O,B,H,N,R,q,E,Q,U,W,A,V=t(5861),G=t(8152),K=t(7757),L=t.n(K),Y=t(2791),J=t(6871),X=t(7134),nn=t(595),en=t(168),tn=t(3504),on=t(5751),rn=t(9280),an=t(1910),sn=on.ZP.input(o||(o=(0,en.Z)(["\n  background-color: rgba(0, 0, 0, 0);\n  border: none;\n  color: #d1d4d7;\n  font-family: SFProDisplay;\n\n  ::placeholder {\n    color: #808080;\n    opacity: 1;\n  }\n"]))),dn=on.ZP.section(i||(i=(0,en.Z)([""]))),cn=on.ZP.div(r||(r=(0,en.Z)(["\n  padding: 56px 32px 0;\n  width: 100%;\n  max-width: 1240px;\n  margin: 0 auto;\n\n  @media screen and (max-width: 425px) {\n    padding: 40px 24px;\n  }\n"]))),ln=on.ZP.div(a||(a=(0,en.Z)(["\n  position: relative;\n  width: 100%;\n  max-width: 700px;\n"]))),un=(0,on.ZP)(sn)(s||(s=(0,en.Z)(["\n  height: 40px;\n  width: 100%;\n  padding: 0 12px;\n  border: solid 1px #808080;\n  background-color: #192f2b;\n  outline: none;\n  font-size: 18px;\n  font-weight: 500;\n\n  :hover {\n    border: solid 1px #f9fefc;\n  }\n\n  :focus {\n    box-shadow: 0 0 2px 0 #58c09b;\n    border: solid 1px #58c09b;\n  }\n\n  @media screen and (max-width: 425px) {\n    font-size: 16px;\n  }\n"]))),pn=(0,on.ZP)(an.W1)(d||(d=(0,en.Z)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 8px;\n  cursor: ",";\n  color: ",";\n"])),(function(n){return n.isDisabled?"auto":"pointer"}),(function(n){return n.isDisabled?"gray":"white"})),xn=on.ZP.div(c||(c=(0,en.Z)(["\n  position: absolute;\n  left: 14px;\n  top: 50px;\n"]))),fn=on.ZP.div(l||(l=(0,en.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 48px 0;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),hn=on.ZP.div(u||(u=(0,en.Z)(["\n  width: 48%;\n\n  @media screen and (max-width: 768px) {\n    width: 100%;\n\n    :first-of-type {\n      margin: 0 0 32px;\n    }\n  }\n"]))),mn=on.ZP.div(p||(p=(0,en.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),gn=on.ZP.h2(x||(x=(0,en.Z)(["\n  margin: 0 0 16px;\n  font-family: SFProDisplay;\n  font-size: 21px;\n  font-weight: 600;\n  color: #eafff8;\n"]))),vn=on.ZP.div(f||(f=(0,en.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]))),Zn=on.ZP.div(h||(h=(0,en.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n"]))),wn=on.ZP.div(m||(m=(0,en.Z)(["\n  font-family: SFProDisplay;\n  font-size: 16px;\n  color: #808080;\n"]))),Pn=(0,on.ZP)(wn)(g||(g=(0,en.Z)(["\n  font-family: SFProDisplay;\n  font-size: 18px;\n  color: #eafff8;\n  margin-top: 2px;\n  margin-right: 2px;\n"]))),bn=(0,on.ZP)(an.e0)(v||(v=(0,en.Z)(["\n  width: 10px !important;\n  height: 10px !important;\n"]))),yn=(0,on.ZP)(an.e0)(Z||(Z=(0,en.Z)(["\n  width: 10px !important;\n  height: 10px !important;\n  transform: rotate(180deg);\n"]))),jn=(0,on.ZP)(rn.h)(w||(w=(0,en.Z)(["\n  border-radius: 100%;\n  width: 30px;\n  height: 30px;\n  background-color: #081c17;\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  cursor: ",";\n\n  :hover {\n    ","\n  }\n\n  :active {\n    ","\n  }\n\n  @media screen and (max-width: 768px) {\n    width: 24px;\n    height: 24px;\n  }\n"])),(function(n){return n.isDisabled?"#808080":"#eafff8"}),(function(n){return n.isDisabled?"auto":"pointer"}),(function(n){return n.isDisabled?"":"background-color: #1e2e2b;"}),(function(n){return n.isDisabled?"":"background-color: #294842;"})),kn=(0,on.ZP)(jn)(P||(P=(0,en.Z)(["\n  margin-right: 8px;\n\n  @media screen and (max-width: 768px) {\n    margin-right: 4px;\n  }\n"]))),Sn=(0,on.ZP)(jn)(b||(b=(0,en.Z)(["\n  margin-left: 8px;\n\n  @media screen and (max-width: 768px) {\n    margin-left: 4px;\n  }\n"]))),Cn=on.ZP.div(y||(y=(0,en.Z)(["\n  border-radius: 12px;\n  border: solid 1px #808080;\n"]))),Tn=on.ZP.div(j||(j=(0,en.Z)(["\n  display: flex;\n  border-bottom: solid 1px #21302d;\n\n  :last-of-type {\n    border-bottom: none;\n  }\n"]))),Dn=(0,on.ZP)(Tn)(k||(k=(0,en.Z)(["\n  padding: 22px 24px;\n"]))),In=(0,on.ZP)(Tn)(S||(S=(0,en.Z)(["\n  padding: 22px 24px 22px 0;\n\n  @media screen and (max-width: 1000px) {\n    flex-direction: column;\n  }\n"]))),_n=on.ZP.div(C||(C=(0,en.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Fn=on.ZP.span(T||(T=(0,en.Z)(["\n  font-family: SFProText;\n  font-size: 10px;\n  font-weight: 500;\n  font-style: normal;\n  color: #808080;\n"]))),Mn=(on.ZP.div(D||(D=(0,en.Z)(["\n  display: flex;\n"]))),on.ZP.span(I||(I=(0,en.Z)(["\n  display: flex;\n  font-family: SFProText;\n  font-size: 15px;\n  line-height: 18px;\n  font-weight: normal;\n  color: #808080;\n  white-space: pre;\n"])))),$n=on.ZP.span(_||(_=(0,en.Z)(["\n  display: flex;\n  font-family: SFProText;\n  font-size: 15px;\n  line-height: 18px;\n  font-weight: normal;\n  color: #808080;\n  white-space: pre;\n  max-width: 204px;\n"]))),zn=(0,on.ZP)(tn.rU)(F||(F=(0,en.Z)(["\n  font-family: SFProText;\n  font-size: 15px;\n  line-height: 18px;\n  font-weight: normal;\n  color: #58c09b;\n  cursor: pointer;\n  transition: 0.2s ease-out;\n\n  :hover {\n    text-shadow: 0 0 6px #58c09b;\n  }\n\n  :active {\n    text-shadow: 0 0 6px #4fad83;\n    color: #4fad83;\n  }\n"]))),On=(0,on.ZP)(zn)(M||(M=(0,en.Z)(["\n  display: block;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),Bn=(0,on.ZP)(tn.rU)($||($=(0,en.Z)(["\n  margin: 0 0 2px 0;\n  font-family: SFProText;\n  font-size: 21px;\n  line-height: 24px;\n  font-weight: normal;\n  color: #58c09b;\n  cursor: pointer;\n  transition: 0.2s ease-out;\n\n  :hover {\n    text-shadow: 0 0 6px #58c09b;\n  }\n\n  :active {\n    text-shadow: 0 0 6px #4fad83;\n    color: #4fad83;\n  }\n"]))),Hn=(0,on.ZP)(zn)(z||(z=(0,en.Z)([""]))),Nn=on.ZP.span(O||(O=(0,en.Z)(["\n  padding: 2px 8px;\n  margin: 4px 0 0;\n  height: 20px;\n  border-radius: 10px;\n  background-color: #f9fefc;\n  font-family: SFProText;\n  font-size: 13px;\n  line-height: 16px;\n  font-weight: 600;\n  color: #021d17;\n"]))),Rn=(0,on.ZP)(tn.rU)(B||(B=(0,en.Z)(["\n  display: block;\n  margin: 0 0 4px;\n  font-family: SFProText;\n  font-size: 15px;\n  font-weight: 500;\n  color: #58c09b;\n  cursor: pointer;\n  transition: 0.2s ease-out;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  :hover {\n    text-shadow: 0 0 6px #58c09b;\n  }\n\n  :active {\n    text-shadow: 0 0 6px #4fad83;\n    color: #4fad83;\n  }\n"]))),qn=(0,on.ZP)(Mn)(H||(H=(0,en.Z)(["\n  font-weight: 500;\n"]))),En=(0,on.ZP)(zn)(N||(N=(0,en.Z)(["\n  margin: 0 0 2px;\n  font-weight: 500;\n  text-overflow: ellipsis;\n  display: block;\n  overflow: hidden;\n"]))),Qn=(0,on.ZP)(_n)(R||(R=(0,en.Z)(["\n  margin: 0 0 0 20px;\n"]))),Un=(0,on.ZP)(_n)(q||(q=(0,en.Z)(["\n  max-width: 124px;\n  margin: 0 0 0 20px;\n  overflow: hidden;\n\n  @media screen and (max-width: 1000px) {\n    max-width: 400px;\n  }\n"]))),Wn=on.ZP.div(E||(E=(0,en.Z)(["\n  margin: 0 0 0 24px;\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 1;\n  overflow: hidden;\n\n  @media screen and (max-width: 1000px) {\n    margin: 16px 0 0 24px;\n  }\n\n  @media screen and (max-width: 768px) {\n    max-width: 400px;\n  }\n"]))),An=on.ZP.div(Q||(Q=(0,en.Z)(["\n  width: 45%;\n  display: flex;\n  flex-direction: column;\n"]))),Vn=(0,on.ZP)(_n)(U||(U=(0,en.Z)(["\n  flex: 1 1 0;\n  max-width: 124px;\n"]))),Gn=(0,on.ZP)(_n)(W||(W=(0,en.Z)(["\n  flex: 1 1 0;\n  padding: 0 0 0 16px;\n  overflow: hidden;\n"]))),Kn=on.ZP.div(A||(A=(0,en.Z)(["\n  display: flex;\n"]))),Ln=t(184);function Yn(n){var e=n.blocks,t=(0,Y.useState)(new Date),o=(0,G.Z)(t,1)[0];return(0,Ln.jsxs)(hn,{children:[(0,Ln.jsx)(gn,{children:"Recent Blocks"}),(0,Ln.jsx)(Cn,{children:e.map((function(n){var e;return(0,Ln.jsxs)(Dn,{children:[(0,Ln.jsxs)(Vn,{children:[(0,Ln.jsx)(Bn,{id:"recent-block-link",to:"/block/".concat(n.height),children:n.height}),(0,Ln.jsx)(Jn,{date1:o,date2:new Date(n.time)})]}),(0,Ln.jsxs)(Gn,{children:[(0,Ln.jsxs)($n,{children:["Producer: ",(0,Ln.jsx)(On,{id:"recent-block-producer-link",to:"/address/".concat(n.producer),children:n.producer})]}),(0,Ln.jsx)(Hn,{id:"recent-block-transactions-link",to:"/block/".concat(n.height,"/transactions"),children:"".concat(null===(e=n.transactions)||void 0===e?void 0:e.length," Tx's")})]})]},n.id)}))})]})}function Jn(n){var e=n.date1,t=n.date2,o=(0,Y.useMemo)((function(){return(0,nn.Bh)(e,t)}),[e,t]),i=(0,Y.useMemo)((function(){return(null===o||void 0===o?void 0:o.hours)>0?"".concat(o.hours," hours ago"):(null===o||void 0===o?void 0:o.minutes)>0?"".concat(o.minutes," minutes ago"):(null===o||void 0===o?void 0:o.seconds)>0?"".concat(o.seconds," seconds ago"):void 0}),[o]);return(0,Ln.jsx)(Fn,{children:i})}function Xn(n){var e=n.transactions,t=n.loading,o=n.onNextPage,i=n.onPrevPage,r=n.pageInfo,a=n.currentPage,s=e.sort((function(n,e){return new Date(n.status.time).getTime()-new Date(e.status.time).getTime()<=0?1:-1})),d=a>1&&(null===r||void 0===r?void 0:r.hasPreviousPage)&&!t,c=(null===r||void 0===r?void 0:r.hasNextPage)&&!t;return(0,Ln.jsxs)(hn,{children:[(0,Ln.jsxs)(mn,{children:[(0,Ln.jsx)(gn,{children:"Recent Transactions"}),(0,Ln.jsxs)(vn,{children:[(0,Ln.jsx)(kn,{isDisabled:!d,onClick:d?i:void 0,children:(0,Ln.jsx)(yn,{})}),(0,Ln.jsx)(Zn,{children:(0,Ln.jsx)(Pn,{children:a})}),(0,Ln.jsx)(Sn,{isDisabled:!c,onClick:c?o:void 0,children:(0,Ln.jsx)(bn,{})})]})]}),(0,Ln.jsx)(Cn,{children:s.map((function(n){return(0,Ln.jsx)(ne,{transaction:n},n.id)}))})]})}function ne(n){var e=n.transaction,t=(0,Y.useMemo)((function(){return(0,nn.Bh)(new Date,new Date(e.status.time))}),[e]),o=(0,Y.useMemo)((function(){return(0,nn.b0)(t)}),[t]);return(0,Ln.jsxs)(In,{children:[(0,Ln.jsxs)(Kn,{children:[(0,Ln.jsx)(Qn,{children:(0,Ln.jsx)(Nn,{children:e.isScript?"Script":"Create"})}),(0,Ln.jsxs)(Un,{children:[(0,Ln.jsx)(Rn,{id:"recent-transaction-link",to:"/transaction/".concat(e.id),children:e.id}),(0,Ln.jsx)(Fn,{children:o})]})]}),(0,Ln.jsxs)(Wn,{children:[(0,Ln.jsx)(An,{children:e.inputs.map((function(n){return"InputCoin"===n.__typename&&(0,Ln.jsxs)(Y.Fragment,{children:[(0,Ln.jsx)(qn,{children:"From:"}),n.__typename,(0,Ln.jsx)(En,{to:"/address/".concat(n.owner),children:n.owner})]},n.owner)}))}),(0,Ln.jsx)(An,{children:e.outputs.map((function(n){return("ChangeOutput"===n.__typename||"CoinOutput"===n.__typename||"VariableOutput"===n.__typename||"WithdrawalOutput"===n.__typename)&&(0,Ln.jsxs)(Y.Fragment,{children:[(0,Ln.jsx)(qn,{children:"To:"}),n.__typename,(0,Ln.jsx)(En,{to:"/address/".concat(n.to),children:n.to})]},n.assetId+n.to)}))})]})]},e.id)}var ee,te,oe,ie,re,ae=t(1413),se=t(2306),de=t(1422),ce={},le=(0,se.Ps)(ee||(ee=(0,en.Z)(["\n    fragment HomePageBlock on Block {\n  id\n  height\n  time\n  producer\n  transactions {\n    id\n  }\n}\n    "]))),ue=(0,se.Ps)(te||(te=(0,en.Z)(["\n    fragment HomePageTransaction on Transaction {\n  id\n  inputContracts {\n    id\n  }\n  inputAssetIds\n  gasPrice\n  gasLimit\n  maturity\n  isScript\n  receiptsRoot\n  witnesses\n  outputs {\n    __typename\n    ... on CoinOutput {\n      to\n      amount\n      assetId\n    }\n    ... on ContractOutput {\n      inputIndex\n      balanceRoot\n      stateRoot\n    }\n    ... on WithdrawalOutput {\n      to\n      amount\n      assetId\n    }\n    ... on ChangeOutput {\n      to\n      amount\n      assetId\n    }\n    ... on VariableOutput {\n      to\n      amount\n      assetId\n    }\n    ... on ContractCreated {\n      contract {\n        id\n      }\n    }\n  }\n  inputs {\n    __typename\n    ... on InputCoin {\n      owner\n    }\n    ... on InputContract {\n      contract {\n        id\n      }\n    }\n  }\n  status {\n    ... on SubmittedStatus {\n      time\n    }\n    ... on SuccessStatus {\n      time\n    }\n    ... on FailureStatus {\n      time\n    }\n  }\n}\n    "]))),pe=(0,se.Ps)(oe||(oe=(0,en.Z)(["\n    query HomePageTransactionsQuery($last: Int, $first: Int, $before: String, $after: String) {\n  transactions(first: $first, last: $last, before: $before, after: $after) {\n    pageInfo {\n      hasPreviousPage\n      hasNextPage\n      startCursor\n      endCursor\n    }\n    edges {\n      node {\n        ...HomePageTransaction\n      }\n    }\n  }\n}\n    ",""])),ue);var xe=(0,se.Ps)(ie||(ie=(0,en.Z)(["\n    query HomePageBlocksQuery($count: Int) {\n  blocks(last: $count) {\n    edges {\n      cursor\n      node {\n        ...HomePageBlock\n      }\n    }\n  }\n}\n    ",""])),le);var fe=(0,se.Ps)(re||(re=(0,en.Z)(["\n    query HomePageSearchQuery($transaction: TransactionId!, $address: Address!) {\n  transaction(id: $transaction) {\n    id\n  }\n  transactionsByOwner(owner: $address, first: 1) {\n    edges {\n      node {\n        id\n      }\n    }\n  }\n}\n    "])));function he(){var n=(0,Y.useState)([]),e=(0,G.Z)(n,2),t=e[0],o=e[1],i=(0,Y.useState)([]),r=(0,G.Z)(i,2),a=r[0],s=r[1],d=(0,Y.useState)(),c=(0,G.Z)(d,2),l=c[0],u=c[1],p=(0,Y.useState)(1),x=(0,G.Z)(p,2),f=x[0],h=x[1],m=(0,Y.useState)(""),g=(0,G.Z)(m,2),v=g[0],Z=g[1],w=(0,Y.useState)(!1),P=(0,G.Z)(w,2),b=P[0],y=P[1],j=function(n){var e=(0,ae.Z)((0,ae.Z)({},ce),n);return de.a(pe,e)}({variables:{last:5}}),k=function(n){var e=(0,ae.Z)((0,ae.Z)({},ce),n);return de.a(xe,e)}({variables:{count:5}}),S=function(n){var e=(0,ae.Z)((0,ae.Z)({},ce),n);return de.a(fe,e)}({variables:{transaction:"",address:""},fetchPolicy:"network-only"}),C=(0,J.s0)(),T=66===v.length;(0,Y.useEffect)((function(){var n,e;if(!k.loading&&!k.error){var t=((null===(n=k.data)||void 0===n||null===(e=n.blocks)||void 0===e?void 0:e.edges)||[]).map((function(n){return n.node}));o(t)}}),[k.loading,k.error,k.data]),(0,Y.useEffect)((function(){var n,e,t,o;if(!j.loading&&!j.error){var i=((null===(n=j.data)||void 0===n||null===(e=n.transactions)||void 0===e?void 0:e.edges)||[]).map((function(n){return n.node}));s(i),u(null===(t=j.data)||void 0===t||null===(o=t.transactions)||void 0===o?void 0:o.pageInfo)}}),[j.loading,j.data,j.error]);var D=function(){var n=(0,V.Z)(L().mark((function n(){var e,t,o,i,r,a;return L().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!T||!v){n.next=5;break}return n.next=3,S.refetch({transaction:v,address:v});case 3:a=n.sent,null!==(e=a.data)&&void 0!==e&&null!==(t=e.transaction)&&void 0!==t&&t.id?C("/transaction/".concat(v)):null!==(o=a.data)&&void 0!==o&&null!==(i=o.transactionsByOwner)&&void 0!==i&&null!==(r=i.edges)&&void 0!==r&&r.length?C("/address/".concat(v)):(y(!0),setTimeout((function(){return y(!1)}),1500));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Ln.jsxs)(Ln.Fragment,{children:[(0,Ln.jsx)(X.h,{}),(0,Ln.jsx)(dn,{children:(0,Ln.jsxs)(cn,{children:[(0,Ln.jsxs)(ln,{children:[(0,Ln.jsx)(un,{placeholder:"Search for transaction / address",onChange:function(n){var e;return Z(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.value)},onKeyPress:function(n){"Enter"===n.key&&(n.preventDefault(),D())}}),(0,Ln.jsx)(pn,{isDisabled:!T,onClick:T?D:void 0}),b&&(0,Ln.jsx)(xn,{children:"Not Found"})]}),(0,Ln.jsxs)(fn,{children:[(0,Ln.jsx)(Yn,{blocks:t}),(0,Ln.jsx)(Xn,{transactions:a,loading:j.loading,pageInfo:l,onNextPage:function(){j.refetch({before:null===l||void 0===l?void 0:l.startCursor,after:void 0,last:5,first:void 0}),h(f+1)},onPrevPage:function(){j.refetch({after:null===l||void 0===l?void 0:l.endCursor,before:void 0,last:void 0,first:5}),h(f-1)},currentPage:f})]})]})})]})}},595:function(n,e,t){t.d(e,{Bh:function(){return o},b0:function(){return a},rl:function(){return i},vG:function(){return r}});var o=function(n,e){var t=Math.floor(Math.abs(n.getTime()-e.getTime())/1e3),o=Math.floor(t/60),i=Math.floor(o/60);return{seconds:t,minutes:o,hours:i,days:Math.floor(i/24)}},i=function(n,e){var t=Math.floor(Math.abs(n.getTime()-e.getTime())/1e3),o=Math.floor(t/60),i=Math.floor(o/60),r=Math.floor(i/24);return{seconds:t=t-24*r*60*60-60*(i-=24*r)*60-60*(o=o-24*r*60-60*i),minutes:o,hours:i,days:r}},r=function(n){var e=[];return n.days>0&&e.push("".concat(n.days," days")),n.hours>0&&e.push("".concat(n.hours," hrs")),n.minutes>0&&e.push("".concat(n.minutes," min")),n.seconds>0&&e.push("".concat(n.seconds," sec")),"".concat(e.slice(0,2).join(" ")," ago")},a=function(n){return n.days>0||n.hours>0?"".concat(n.hours," hours ago"):n.minutes>0?"".concat(n.minutes," minutes ago"):n.seconds>0?"".concat(n.seconds," seconds ago"):""}}}]);
//# sourceMappingURL=569.9d4c9ffc.chunk.js.map